-- 뷰= 가상 테이블
-- 실제로 존재하는 건 아닌 데, 실제 테이블처럼 사용 가능
-- INSERT, UPDATE, DELETE가 제한된다.
-- 실제 테이블의 결과에 영향을 받음.
CREATE VIEW DONGJOONCOMP AS 
SELECT DJCOMPANY.NAME "직원명", MYDEPART.NAME "부서명", 
MYJIKGEUP.NAME "직급" FROM DJCOMPANY
JOIN MYDEPART ON 
DJCOMPANY.BUSEOCODE=MYDEPART.CODE JOIN MYJIKGEUP 
ON DJCOMPANY.JIKGEUPCODE = MYJIKGEUP.CODE;

SELECT * FROM DONGJOONCOMP;

-- 실제 테이블의 영향을 받는다.
DELETE FROM DJCOMPANY WHERE SABEON='10001';

DELETE FROM DONGJOONCOMP WHERE 부서명 = 'S/W개발';

SELECT * FROM DJCOMPANY;

--뷰에 직접적 삽입은 안 됨
INSERT INTO DONGJOONCOMP VALUES ('박세진', '경영지원', '부장');

--그러나 원래 테이블에서는 됨
INSERT INTO DJCOMPANY VALUES 
('99999','001',1,'박세진',20,'M','010-1314-5678');

--이건 된다
UPDATE DONGJOONCOMP SET 직원명='D';
-- 하지만 이건 안 된다
UPDATE DONGJOONCOMP SET 부서명='경영지원';
UPDATE DONGJOONCOMP SET 직급='부장';


